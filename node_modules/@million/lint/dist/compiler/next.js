"use strict";var ht=Object.create;var W=Object.defineProperty;var Tt=Object.getOwnPropertyDescriptor;var Pt=Object.getOwnPropertyNames;var Nt=Object.getPrototypeOf,It=Object.prototype.hasOwnProperty;var vt=(e,t)=>{for(var r in t)W(e,r,{get:t[r],enumerable:!0})},ge=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Pt(t))!It.call(e,o)&&o!==r&&W(e,o,{get:()=>t[o],enumerable:!(n=Tt(t,o))||n.enumerable});return e};var S=(e,t,r)=>(r=e!=null?ht(Nt(e)):{},ge(t||!e||!e.__esModule?W(r,"default",{value:e,enumerable:!0}):r,e)),wt=e=>ge(W({},"__esModule",{value:!0}),e);var Qt={};vt(Qt,{default:()=>Gt,next:()=>de});module.exports=wt(Qt);var yt=require("unplugin"),xt=require("@rollup/pluginutils"),St=require("@babel/core");var w=S(require("@babel/types"));var O=require("kleur/colors");var d=(e,t)=>(...r)=>{if(ye()!=="debug")return e(...r);let o=performance.now(),a=e(...r),i=performance.now(),l=Number((i-o).toFixed(4));return l<.025||(l>.1?l=(0,O.red)(l):l>.05&&(l=(0,O.yellow)(l)),console.log(`   - ${l}ms ${(0,O.gray)(`| ${t}`)}`)),a};var xe=d(e=>{let t=e.node.directives;if(!t)return!1;let r=!1;for(let n=0,o=t.length;n<o;n++)if(t[n].value.value==="use client"){r=!0;break}return r},"hasUseClientDirective:check.ts"),ee=new Map,te=d(e=>{var r;if(!e)return!1;if(ee.has(e))return ee.get(e);let t=!1;for(let n=0,o=((r=e.node.leadingComments)==null?void 0:r.length)||0;n<o;n++)if(e.node.leadingComments[n].value.includes("million ignore")){t=!0;break}return ee.set(e,t),t?!0:te(e.parentPath)},"shouldIgnore:check.ts");var ne=require("@babel/helper-module-imports"),A=S(require("@babel/types"));var s=S(require("@babel/types"));var re=d(e=>s.isTSParameterProperty(e)||s.isTSDeclareFunction(e)||s.isTSDeclareMethod(e)||s.isTSQualifiedName(e)||s.isTSCallSignatureDeclaration(e)||s.isTSConstructSignatureDeclaration(e)||s.isTSPropertySignature(e)||s.isTSMethodSignature(e)||s.isTSIndexSignature(e)||s.isTSAnyKeyword(e)||s.isTSBooleanKeyword(e)||s.isTSBigIntKeyword(e)||s.isTSIntrinsicKeyword(e)||s.isTSNeverKeyword(e)||s.isTSNullKeyword(e)||s.isTSNumberKeyword(e)||s.isTSObjectKeyword(e)||s.isTSStringKeyword(e)||s.isTSSymbolKeyword(e)||s.isTSUndefinedKeyword(e)||s.isTSUnknownKeyword(e)||s.isTSVoidKeyword(e)||s.isTSThisType(e)||s.isTSFunctionType(e)||s.isTSConstructorType(e)||s.isTSTypeReference(e)||s.isTSTypePredicate(e)||s.isTSTypeQuery(e)||s.isTSTypeLiteral(e)||s.isTSArrayType(e)||s.isTSTupleType(e)||s.isTSOptionalType(e)||s.isTSRestType(e)||s.isTSNamedTupleMember(e)||s.isTSUnionType(e)||s.isTSIntersectionType(e)||s.isTSConditionalType(e)||s.isTSInferType(e)||s.isTSParenthesizedType(e)||s.isTSTypeOperator(e)||s.isTSIndexedAccessType(e)||s.isTSMappedType(e)||s.isTSLiteralType(e)||s.isTSExpressionWithTypeArguments(e)||s.isTSInterfaceDeclaration(e)||s.isTSInterfaceBody(e)||s.isTSTypeAliasDeclaration(e)||s.isTSInstantiationExpression(e)||s.isTSAsExpression(e)||s.isTSSatisfiesExpression(e)||s.isTSTypeAssertion(e)||s.isTSEnumDeclaration(e)||s.isTSEnumMember(e)||s.isTSModuleDeclaration(e)||s.isTSModuleBlock(e)||s.isTSImportType(e)||s.isTSImportEqualsDeclaration(e)||s.isTSExternalModuleReference(e)||s.isTSNonNullExpression(e)||s.isTSExportAssignment(e)||s.isTSNamespaceExportDeclaration(e)||s.isTSTypeAnnotation(e)||s.isTSTypeParameterInstantiation(e)||s.isTSTypeParameterDeclaration(e)||s.isTSTypeParameter(e),"isTypeScript:mod.ts");var R=S(require("@babel/types"));var Ct=/<(?<temp1>"[^"]*"|'[^']*'|[^'">])*>/,X=d(e=>{if(Ct.test(e.getSource()))return!0;let t=!1;return e.traverse({JSXElement(r){t=!0,r.stop()},JSXFragment(r){t=!0,r.stop()}}),t},"hasJSX:jsx.ts"),k=d(e=>!e.length||!/[a-zA-Z]/.test(e[0])?!1:e[0]===e[0].toUpperCase(),"isCapitalized:jsx.ts"),Se=d(e=>R.isJSXIdentifier(e)?R.identifier(e.name):R.isJSXMemberExpression(e)?R.memberExpression(Se(e.object),Se(e.property)):R.identifier(e.name.name),"convertJSXToAST:jsx.ts");var V=d(e=>Array.isArray(e)?e[0]:e,"resolvePath:path.ts"),ur=d(e=>{let t=!1;return e.traverse({ReturnStatement(){t=!0}}),t},"hasReturnStatement:path.ts");var be=d((e,t)=>{let r=new Map,n={},o=(c,p)=>{let f=`${c}@${p}`;return r.has(f)||r.set(f,(0,ne.addNamed)(e,c,p)),r.get(f)},a=c=>{let p=`default@${c}`;return r.has(p)||r.set(p,(0,ne.addNamed)(e,"default",c,{nameHint:"_"})),r.get(p)},i=0;return{addNamed:o,addDefault:a,addExport:(c,p,f)=>{n[`export_${c??i++}`]={kind:"export",loc:[(p==null?void 0:p.start.line)||0,(p==null?void 0:p.start.column)||0,(p==null?void 0:p.end.line)||0,(p==null?void 0:p.end.column)||0],jsx:!!f}},importMap:r,externalsMap:n,options:t}},"createModuleFactory:mod.ts"),b=d((e,t,r)=>{let n=e.node.callee;if(A.isMemberExpression(n)){if(!A.isIdentifier(n.property))return!1;n=n.property}if(!A.isIdentifier(n))return!1;let o=e.scope.getBinding(n.name);if(!o||!o.path.isImportSpecifier()||!A.isIdentifier(o.path.node.imported))return!1;let a=t.indexOf(o.path.node.imported.name);return a===-1||!o.path.parentPath.isImportDeclaration()||o.path.parentPath.node.source.value!==r?!1:t[a]},"isImportFrom:mod.ts"),z=d((e,t)=>{var n;if((n=t==null?void 0:t.node)!=null&&n.loc||re(t.node))return;let r=null;t.traverse({MemberExpression(o){A.isIdentifier(o.node.property)&&(r=o.node.property.name)},Identifier(o){r=o.node.name,o.stop()}}),e.addExport(r,t.node.loc,X(V(t.get("declaration"))))},"createESMExport:mod.ts"),Ee=d((e,t)=>{var n;if((n=t==null?void 0:t.node)!=null&&n.loc||re(t.node)||!A.isIdentifier(t.node.property)||!A.isIdentifier(t.node.object)||t.node.object.name!=="module"||t.node.property.name!=="exports")return;let r=t.find(o=>o.isAssignmentExpression());r&&e.addExport(null,r.node.loc,X(V(r.get("right"))))},"createCJSExport:mod.ts"),oe=new Map,he=d((e,t)=>{let n=t.path.component.scope.getAllBindings();for(let o in n){let a=n[o];if(a&&o===t.name||a.scope.uid===t.path.real.scope.uid)continue;if(oe.has(`${o}::${a.scope.uid}`)){e.externalsMap[o]=oe.get(`${o}::${a.scope.uid}`);continue}let i=a.kind,l=a.path.node.loc;o==="arguments"||i==="param"||(e.externalsMap[o]={kind:i,loc:[(l==null?void 0:l.start.line)||0,(l==null?void 0:l.start.column)||0,(l==null?void 0:l.end.line)||0,(l==null?void 0:l.end.column)||0],jsx:X(a.path)},oe.set(`${o}::${a.scope.uid}`,e.externalsMap[o]))}return e.externalsMap},"getExternals:mod.ts");var G=S(require("@babel/types")),q=e=>G.isJSXNamespacedName(e)?`${e.namespace.name}:${e.name.name}`:G.isJSXMemberExpression(e)?`${q(e.object)}.${q(e.property)}`:e.name;var E=S(require("@babel/types"));var _=new Map,I=(e,t)=>{let r=`${e}::${t}`;return Te(r)},Te=d((e,t=0)=>{if(_.has(e))return _.get(e);let r=3735928559^t,n=1103547991^t;for(let a=0,i;a<e.length;a++)i=e.charCodeAt(a),r=Math.imul(r^i,2654435761),n=Math.imul(n^i,1597334677);r=Math.imul(r^r>>>16,2246822507),r^=Math.imul(n^n>>>13,3266489909),n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(r^r>>>13,3266489909);let o=4294967296*(2097151&n)+(r>>>0);if(_.has(e)){if(_.get(e)!==o)return Te(e,t+1)}else _.set(e,o);return o},"hash:hash.ts");var v=S(require("@babel/types"));var Mt=v.arrayExpression([v.numericLiteral(0),v.numericLiteral(0),v.numericLiteral(0),v.numericLiteral(0)]),h=d(e=>{if(!e)return Mt;let{start:t,end:r}=e;return v.arrayExpression([v.numericLiteral(t.line),v.numericLiteral(t.column),v.numericLiteral(r.line),v.numericLiteral(r.column)])},"getSourceLocation:loc.ts");var F=S(require("@babel/types"));var Pe=d(e=>{let t=null;if(e.isArrowFunctionExpression()||e.isFunctionExpression()){F.isBlockStatement(e.node.body)||(e.node.body=F.blockStatement([F.returnStatement(e.node.body)]));let l=!1,c=e.find(p=>(p.isObjectProperty()&&(l=!0),p.isVariableDeclarator()));if(!c||l)return null;t=c}else e.isFunctionDeclaration()&&(t=e);if(!t)return null;let r=null,n=null;if(e.isClassDeclaration()){let l=t.get("body.body").find(p=>p.isClassMethod({kind:"constructor"}));if(!l)return null;e=l;let c=l.node.params;for(let p=0,f=c.length;p<f;p++){let m=c[p];if(F.isIdentifier(m,{name:"props"})){r=m,n=y=>{c[p]=y};break}}}else if(e.isFunctionDeclaration()||e.isFunctionExpression()||e.isArrowFunctionExpression()){let l=e.node.params;r=l[0]||null,n=c=>{l[0]=c}}let o=t.node.id;if(!(F.isIdentifier(o)&&k(o.name)&&X(e)))return null;let i={name:String(o.name),props:r,setProps:n,path:{real:e,component:t},type:{real:e.type,component:t.type}};return e._hir=i,i},"createHir:hir.ts"),ie=new Map,J=d(e=>{if(ie.has(e))return ie.get(e);let t=null;return e.find(r=>(t=r._hir,!!t)),t&&ie.set(e,t),t},"getHir:hir.ts");var Q=d((e,t,r,n,o,a,i)=>{let l=J(r);if(!l)return;let c=e.addNamed(t,"@million/lint/runtime"),p=E.addComment(E.callExpression(c,[E.numericLiteral(I(n,l.name)),r.node,h(a??r.node.loc),E.numericLiteral(o),i?E.objectExpression([E.objectProperty(E.identifier("name"),E.stringLiteral(i.name)),E.objectProperty(E.identifier("loc"),h(i.loc))]):E.nullLiteral()]),"leading","million ignore"),[f]=r.replaceWith(p);f.skip(),r.skip()},"captureGeneric:generic.ts");var P=S(require("@babel/types"));var Ne=d((e,t,r,n)=>{var p;let o=t.path.component.scope.generateUidIdentifier("props"),a=t.props,i=e.addNamed("captureProps","@million/lint/runtime"),l=P.addComment(P.callExpression(i,[P.numericLiteral(I(r,t.name)),o,h(a.loc),P.numericLiteral(n)]),"leading","million ignore");t.path.real.node.body.body.unshift(P.variableDeclaration("let",[P.variableDeclarator(a,o)]),P.expressionStatement(l)),(p=t.setProps)==null||p.call(t,o)},"captureProps:props.ts");var x=S(require("@babel/types"));var Ie=d((e,t)=>{let r=e.addNamed("registerFile","@million/lint/runtime");return x.callExpression(r,[x.stringLiteral(t),x.stringLiteral(process.cwd()),e.addDefault("react"),x.stringLiteral(e.options.framework||"")])},"registerFile:register.ts"),Dt=x.memberExpression(x.identifier("JSON"),x.identifier("parse")),ve=d((e,t,r,n)=>{let o=he(e,t),a=JSON.stringify(o),i=e.addNamed("registerComponent","@million/lint/runtime");return x.callExpression(i,[x.stringLiteral(r),x.stringLiteral(t.name),x.numericLiteral(I(r,t.name)),x.identifier(t.name),x.callExpression(Dt,[x.stringLiteral(a)]),h(t.path.real.isArrowFunctionExpression()?t.path.component.parentPath.node.loc:t.path.component.node.loc),x.numericLiteral(n)])},"registerComponent:register.ts"),Wr=d((e,t,r,n)=>{let o=e.addNamed("registerStateManager","@million/lint/runtime");return x.callExpression(o,[x.stringLiteral(t),x.stringLiteral(r),x.arrayExpression(n.map(i=>x.objectExpression([x.objectProperty(x.identifier("type"),x.stringLiteral(i.type)),x.objectProperty(x.identifier("loc"),h(i.loc))])))])},"registerStateManager:register.ts");var C=S(require("@babel/types"));var se=d((e,t,r,n)=>{let o=J(t);if(!o)return;let a=C.cloneNode(t.node),i=t.find(f=>f.isJSXExpressionContainer()),l=e.addNamed("captureJSX","@million/lint/runtime"),c=C.addComment(C.callExpression(l,[C.numericLiteral(I(r,o.name)),a,h(t.node.loc),h((i==null?void 0:i.node.loc)??t.node.loc),C.numericLiteral(n)]),"leading","million ignore"),[p]=t.replaceWith(t.parentPath.isJSXElement()||t.parentPath.isJSXFragment()?C.jsxExpressionContainer(c):c);p.skip()},"captureJSX:jsx.ts");var L=S(require("@babel/types"));var we=d((e,t,r)=>{let n=e.addNamed("useMount","@million/lint/runtime"),o=L.addComment(L.callExpression(n,[L.stringLiteral(r),L.stringLiteral(t.name)]),"leading","million ignore");t.path.real.node.body.body.unshift(L.expressionStatement(o))},"captureMount:mount.ts");var j=S(require("@babel/types"));var Ce=d((e,t,r,n,o,a)=>{let i=J(r);if(!i)return;let l=e.addNamed(t,"@million/lint/runtime"),c=[];if(r.isArrayExpression()){let m=r.node.elements;for(let y=0,M=m.length;y<M;y++){let T=m[y];c.push(T==null?void 0:T.loc)}}let p=j.addComment(j.callExpression(l,[j.numericLiteral(I(n,i.name)),r.node,h(a??r.node.loc),j.arrayExpression(c.map(m=>h(m))),j.numericLiteral(o)]),"leading","million ignore"),[f]=r.replaceWith(p);f.skip(),r.skip()},"captureDeps:generic.ts");var N=S(require("@babel/types"));var Me=d((e,t,r,n)=>{let o=J(t);if(!o)return;let a=e.addNamed("captureHTTP","@million/lint/runtime"),i=[];N.traverseFast(t.node,p=>{N.isStringLiteral(p)&&p.value.includes("/")&&i.push(p)});let l=N.addComment(N.callExpression(a,[N.numericLiteral(I(r,o.name)),t.node,h(t.node.loc),N.arrayExpression(i),N.numericLiteral(n)]),"leading","million ignore"),[c]=t.replaceWith(l);c.skip(),t.skip()},"captureHTTP:http.ts");var $=d((e,t,r,n)=>{if(t.scope.parent.uid!==r.scope.uid)return;if(t.isClass()){let c=t.node.superClass;if(!w.isMemberExpression(c))return;let p=c.object,f=c.property;if(!w.isIdentifier(p)||!w.isIdentifier(f)||p.name!=="React"||f.name!=="Component")return}let o=Pe(t);if(!o)return;we(e,o,n);let a=0;o.props&&(w.isObjectPattern(o.props)||w.isIdentifier(o.props))&&Ne(e,o,n,a++);let i=[];t.traverse({CallExpression(c){if(te(c))return;let p=c.node.callee;if(w.isIdentifier(p)){if(["fetch","useQuery","useSWR"].includes(p.name)){Me(e,c,n,a++);return}if(p.name.startsWith("use")){if(b(c,["useState","useReducer"],"react")||b(c,["useAtom"],"jotai")){Q(e,"captureReducer",c,n,a++);return}if(b(c,["useContext"],"react")||b(c,["useSelector"],"react-redux")||b(c,["useSnapshot"],"valtio")||b(c,["useRecoilState"],"recoil")||b(c,["useAtomValue"],"jotai")){Q(e,"captureFunctionCall",c,n,a++);return}if(b(c,["useEffect","useLayoutEffect","useMemo","useCallback","useInsertionEffect"],"react")&&c.node.arguments.length>1){let f=V(c.get("arguments.1"));if(!f.isExpression())return;Ce(e,"captureDeps",f,n,a++,c.node.loc);return}}}w.isMemberExpression(p)&&w.isIdentifier(p.property)&&p.property.name==="setState"&&w.isIdentifier(p.object)&&p.object.name==="this"&&Q(e,"captureClassSetState",c,n,a)},JSXElement(c){let p=c.node,f=q(p.openingElement.name);if(k(f)){if(f.includes("Provider")){i.unshift(()=>{se(e,c,n,a)});return}se(e,c,n,a)}}});for(let c=0,p=i.length;c<p;c++)i[c]();return ve(e,o,n,a+1)},"transformComponent:index.ts");var u=S(require("@babel/types"));var Rt=u.memberExpression(u.memberExpression(u.identifier("import"),u.identifier("meta")),u.identifier("hot")),kt=u.memberExpression(u.memberExpression(u.identifier("import"),u.identifier("meta")),u.identifier("webpackHot")),De=u.memberExpression(u.identifier("module"),u.identifier("hot")),At=u.binaryExpression("===",u.unaryExpression("typeof",u.identifier("module")),u.stringLiteral("undefined")),Re=d((e,t,r,n)=>{let o=e.options.framework==="webpack"?kt:Rt,a=n.length,i=new Array(a);for(let T=0;T<a;T++)i[T]=u.expressionStatement(n[T]);let l=t.scope.generateUidIdentifier("c"),c=e.addNamed("resync","@million/lint/runtime"),p=e.addNamed("reportOutliers","@million/lint/runtime"),f=u.variableDeclaration("let",[u.variableDeclarator(l,u.arrowFunctionExpression([],u.blockStatement(i)))]),m=u.arrowFunctionExpression([],u.blockStatement([u.expressionStatement(u.callExpression(l,[])),u.expressionStatement(u.callExpression(c,[])),u.expressionStatement(u.callExpression(p,[]))])),y=u.ifStatement(De,u.blockStatement([u.expressionStatement(u.callExpression(u.memberExpression(De,u.identifier("accept")),[u.stringLiteral(r),m]))])),M=e.options.legacyHmr?y:u.ifStatement(At,u.blockStatement([u.ifStatement(o,u.blockStatement([u.expressionStatement(u.callExpression(u.memberExpression(o,u.identifier("accept")),[u.stringLiteral(r),m]))]))]),y);return Ft([f,M,u.expressionStatement(u.callExpression(l,[]))])},"wrapHMR:hmr.ts"),Ft=d(e=>u.expressionStatement(u.callExpression(u.arrowFunctionExpression([],u.blockStatement(e)),[])),"wrapIIFE:hmr.ts");var ke=S(require("@babel/types"));var Ae=d(e=>{let t=e.node.body,r=[];for(let n=0,o=t.length;n<o;n++){let a=t[n];if(!ke.isImportDeclaration(a))continue;let i=a.specifiers,l=a.source.value;if(!i.length)continue;let c=a.loc,p={specifiers:[],source:l,start:a.start,end:a.end,loc:[c.start.line,c.start.column,c.end.line,c.end.column]};r.push(p);for(let f=0,m=i.length;f<m;f++){let y=i[f];p.specifiers.push(y.local.name)}}return r},"getImports:debug");var _o=require("isomorphic-fetch"),Fe=process.cwd(),ae=d(async e=>{try{let t=await He();for(let r=0,n=t.length;r<n;r++){let{port:o,cwd:a}=t[r];!e.includes(a)&&!Fe.includes(a)||fetch(`http://localhost:${o}/reset`).catch(()=>null)}}catch{}},"reset:http.ts"),Le=d(async(e,t)=>{let r=[];for(let i in t){let l=t[i];for(let c=0,p=l.length;c<p;c++)r.push(l[c])}r.sort((i,l)=>l.size-i.size);let n=[];for(let i=0,l=r.length;i<l;i++){if(i<l*.25){n.push(r[i]);continue}break}let o={};for(let i=0,l=n.length;i<l;i++){let c=n[i];o[c.filename]||(o[c.filename]=[]),o[c.filename].push(c)}let a={};for(let i in t){let l=t[i];for(let c=0,p=l.length;c<p;c++)a[i]=l}try{await Ue(e,{bundle:{all:a,outliers:o}})}catch{}},"reportBundle:http.ts"),je=d(async(e,t)=>{try{await Ue(e,{stateManagers:t})}catch{}},"reportStateManagers:http.ts"),Ue=d(async(e,t)=>{try{let r=await He();for(let n=0,o=r.length;n<o;n++){let{port:a,cwd:i}=r[n];!e.includes(i)&&!Fe.includes(i)||fetch(`http://localhost:${a}/ingest?t=${Object.keys(t).join(",")}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).catch(()=>null)}}catch{}},"report:http.ts"),He=d(async()=>(await fetch(`http://localhost:${52921}`)).json(),"getSync:http.ts");var ze=require("fs"),_e=require("module"),Z=S(require("path")),Be=require("util"),Ke=S(require("zlib")),We=S(require("esbuild"));var Je=require("fs"),Oe=require("module"),le=S(require("path")),ce=S(require("escalade")),B="package.json",pe=async e=>await(0,ce.default)(e,(r,n)=>n.includes(B)?B:void 0)??void 0,jt=async e=>{let t=await Je.promises.readFile(e,"utf-8");return JSON.parse(t)},Ut=(e,t,r)=>(0,ce.default)(e,async(n,o)=>{if(!o.includes(B))return;let a=le.default.join(n,B),i=await jt(a);return r==null||r(a,i),i.name===t?B:void 0}),Xe=async(e,t)=>{let n=(0,Oe.createRequire)(le.default.resolve(t,"<import>.js")).resolve(e),o=e.startsWith("@"),[a,i]=o?e.split("/"):[e.split("/")[0],""],l=a+(o?"/":"")+i,c,p;try{p=`${l}/package.json`,c=require(p)}catch{}let f,m;if(n!==l){let y=[];await Ut(n,l,(T,H)=>{y.push([T,H])})&&y.length>0&&([p,c]=y[y.length-1],y.length>1&&([m,f]=y[0]))}return{rootPackageFile:p,rootPackage:c,modulePackageFile:m,modulePackage:f}};var Ht=(0,Be.promisify)(Ke.default.gzip),Jt=e=>Ht(e).then(t=>t.length),$e=async e=>!!await ze.promises.stat(e).catch(()=>null);var Ot=e=>[e&&`export {${Object.values({...e}).join(", ")}}`].filter(Boolean).join(`
`),me=RegExp(`^node:|^(${_e.builtinModules.join("|")})(/|$)`),Xt={name:"external",setup(e){e.onResolve({filter:me,namespace:"file"},t=>({path:t.path,external:!0}))}},$t=/^[a-z@]/,Vt={name:"external",setup(e){let t=new Map,r=new Map;e.onResolve({filter:$t,namespace:"file"},async n=>{if(me.test(n.path))return null;let o,a=n.resolveDir;if(t.has(a))o=await t.get(a);else{let i=pe(a).then(l=>l?require(l):null);t.set(a,i),o=await i}if(o!=null&&o.peerDependencies&&n.path in o.peerDependencies){let i=r.get(o.name);return i||(i=new Set,r.set(o.name,i)),i.add(n.path),{path:n.path,external:!0}}return null})}},Ve=new Map,zt=(e,t)=>`${e.name}:${e.version}:${t}`,_t=async(e,t,{filename:r,baseDir:n,projectPackageFile:o,cache:a=!1})=>{let i=t.source,[l]=i.split("/");if(me.test(l))throw new Error("Skip builtin modules");let c=`${e}
${Ot(t.specifiers)}`,{rootPackage:p}=await Xe(i,n).catch(()=>({})),f=a&&p!==void 0&&zt(p,c);if(a&&f){let D=Ve.get(f);if(D)return D}let m=p?Object.keys({...p.peerDependencies}):[],y=o?Z.default.dirname(o):n,M=await We.build({stdin:{loader:"ts",contents:c,resolveDir:Z.default.dirname(r),sourcefile:"<import>"},outfile:"<bundle>.js",absWorkingDir:y,plugins:[Xt,Vt],resolveExtensions:[".jsx",".js",".tsx",".ts",".css",".json"],loader:{".node":"binary",".jpeg":"empty",".jpg":"empty",".png":"empty",".webp":"empty",".gif":"empty",".svg":"empty"},external:m,target:"esnext",format:"esm",platform:"browser",metafile:!1,minify:!0,bundle:!0,write:!1,logLimit:0,logLevel:"silent"}),T=await Promise.all(M.outputFiles.map(async D=>{let K=D.contents.length;return[K,K===0?0:await Jt(Buffer.from(D.contents))]})),H=0;for(let D=0,K=T.length;D<K;D++)H+=T[D][1];return a&&f&&Ve.set(f,H),H};async function*qe(e,t,r){let n=process.cwd(),o=t&&await $e(t)?Z.default.dirname(t):n&&await $e(n)?n:null;if(!o)return null;let a=await pe(o),i={filename:t,baseDir:o,projectPackageFile:a,cache:!0};for(let l=0,c=r.length;l<c;l++){let p=r[l],f=e.substring(p.start,p.end);try{let m=await _t(f,p,i);m&&(yield m)}catch{}}}var Bt=async(e,t,r)=>{let n=[],o=0;for await(let a of qe(e,t,r)){let i=r[o];n.push({size:a,filename:t,loc:i.loc}),o++}return n},Ge={},Qe=async(e,t,r)=>{try{let n=await Bt(e,t,r);return Ge[t]=n,await Le(t,Ge),n}catch{}return[]};var Ze=S(require("@babel/types"));var Ye=(e,t)=>{let r=e.options.filename,n=t.node.callee;if(!Ze.isIdentifier(n))return null;let o=b(t,["atom"],"jotai");if(!o)return null;let a=t.find(l=>l.isVariableDeclarator());if(!a)return null;let i=a.node.loc;return{filename:r,type:o,loc:[i.start.line,i.start.column,i.end.line,i.end.column]}};var et=S(require("@babel/types"));var tt=(e,t)=>{let r=e.options.filename,n=t.node.callee;if(!et.isIdentifier(n))return null;let o=b(t,["atom","selector"],"recoil");if(!o)return null;let a=t.find(l=>l.isVariableDeclarator());if(!a)return null;let i=a.node.loc;return{filename:r,type:o,loc:[i.start.line,i.start.column,i.end.line,i.end.column]}};var ue=S(require("@babel/types"));var rt=(e,t)=>{let r=e.options.filename;if(t.isCallExpression()){let n=t.node.callee;if(!ue.isIdentifier(n))return null;let o=b(t,["configureStore","createSlice","createReducer"],"@reduxjs/toolkit");if(!o)return null;let a=t.find(l=>l.isVariableDeclarator());if(!a)return null;let i=a.node.loc;return{filename:r,type:o,loc:[i.start.line,i.start.column,i.end.line,i.end.column]}}if(t.isFunctionDeclaration()||t.isVariableDeclarator()){let n=t.node.id;if(!ue.isIdentifier(n))return null;if(n.name.toLowerCase().includes("reducer")){let o=t.node.loc;return{filename:r,type:"reducer",loc:[o.start.line,o.start.column,o.end.line,o.end.column]}}}return null};var ot=S(require("@babel/types"));var nt=(e,t)=>{let r=e.options.filename,n=t.node.callee;if(!ot.isIdentifier(n))return null;let o=b(t,["proxy"],"valtio");if(!o)return null;let a=t.find(l=>l.isVariableDeclarator());if(!a)return null;let i=a.node.loc;return{filename:r,type:o,loc:[i.start.line,i.start.column,i.end.line,i.end.column]}};var it=S(require("@babel/types"));var st=(e,t)=>{let r=e.options.filename,n=t.node.callee;if(!it.isIdentifier(n))return null;let o=b(t,["create"],"zustand");if(!o)return null;let a=t.find(l=>l.isVariableDeclarator());if(!a)return null;let i=a.node.loc;return{filename:r,type:o,loc:[i.start.line,i.start.column,i.end.line,i.end.column]}};var at=S(require("@babel/types"));var lt=(e,t)=>{let r=e.options.filename,n=t.node.callee;if(!at.isIdentifier(n))return null;let o=b(t,["makeAutoObservable"],"mobx-react-lite");if(!o)return null;let a=t.find(l=>l.isClassDeclaration());if(!a)return null;let i=a.node.loc;return{filename:r,type:o,loc:[i.start.line,i.start.column,i.end.line,i.end.column]}};var Y=(e,t,r)=>{let{source:n}=e.options;if(n){if(n.includes("jotai")&&t.isCallExpression()){let o=Ye(e,t);o&&(r.jotai??(r.jotai=[]),r.jotai.push(o))}if(n.includes("recoil")&&t.isCallExpression()){let o=tt(e,t);o&&(r.recoil??(r.recoil=[]),r.recoil.push(o))}if(n.includes("valtio")&&t.isCallExpression()){r.valtio??(r.valtio=[]);let o=nt(e,t);o&&(r.valtio??(r.valtio=[]),r.valtio.push(o))}if(n.includes("zustand")&&t.isCallExpression()){let o=st(e,t);o&&(r.zustand??(r.zustand=[]),r.zustand.push(o))}if(n.includes("redux")&&(t.isCallExpression()||t.isVariableDeclarator()||t.isFunctionDeclaration())){r.redux??(r.redux=[]);let o=rt(e,t);o&&(r.redux??(r.redux=[]),r.redux.push(o))}if(n.includes("mobx")&&t.isCallExpression()){let o=lt(e,t);o&&(r.mobx??(r.mobx=[]),r.mobx.push(o))}}};var ct=(e,t={})=>{let r=t.filename||"",n=[],o=()=>{var i;a||(a=!0,(i=n.shift())==null||i())},a=!1;return{name:"anya",visitor:{Program(i){let l=Ae(i),c=[],p={};if(t.rsc&&!xe(i))return;let f=be(i,t);if(c.push(Ie(f,r)),i.traverse({CallExpression(m){t.extra&&Y(f,m,p)},ArrowFunctionExpression(m){if(!t.isJSX)return;let y=$(f,m,i,r);y&&c.push(y)},FunctionDeclaration(m){if(t.extra&&Y(f,m,p),!t.isJSX)return;if(m.node.id&&!k(m.node.id.name)){m.skip();return}let y=$(f,m,i,r);y&&c.push(y)},FunctionExpression(m){if(!t.isJSX)return;if(m.node.id&&!k(m.node.id.name)){m.skip();return}let y=$(f,m,i,r);y&&c.push(y)},VariableDeclarator(m){t.extra&&Y(f,m,p)},ClassDeclaration(m){if(t.isJSX){if(m.node.id&&!k(m.node.id.name)){m.skip();return}$(f,m,i,r)}},ClassExpression(m){if(t.isJSX){if(m.node.id&&!k(m.node.id.name)){m.skip();return}$(f,m,i,r)}},MemberExpression(m){t.isJSX&&Ee(f,m)},ExportAllDeclaration(m){t.isJSX&&z(f,m)},ExportDefaultDeclaration(m){t.isJSX&&z(f,m)},ExportNamedDeclaration(m){t.isJSX&&z(f,m)},ExportNamespaceSpecifier(m){t.isJSX&&z(f,m)}}),!!c.length){if(t.isJSX){let m=Re(f,i,r,c);i.node.body.push(m)}je(r,p),n.push(async()=>{await Qe(t.source,r,l),a=!1,o()}),o()}}}}};var pt=ct;var mt=d((e,t,r)=>{let n=new Set(r),o=-1,a=-1,i;for(let l=0,c=e.length;l<c;l+=1){let p=e[l];n.has(p.name)&&o===-1&&(o=l),p.name===t&&(a=l,i=p)}o!==-1&&a!==-1&&o<a&&(e.splice(a,1),e.splice(o,0,i))},"repushPlugin:plugin.ts"),fe=d(e=>e.replace(process.cwd(),""),"getRelativePath:plugin.ts");var U=require("kleur/colors");var ut=!1,ft=()=>{if(ut)return;let e=performance.now();ut=!0,console.log(`
 ${(0,U.bold)((0,U.magenta)("\u26A1 Million Lint v0.0.66"))}`),console.log(` ${(0,U.green)("\u2713")} Ready in ${(performance.now()-e).toFixed(2)}ms`)},dt=e=>(console.log(` ${(0,U.gray)("\u25CB")} Compiling ${fe(e)} ...`),performance.now()),gt=(e,t,r)=>{if(t===null)return 0;let n=performance.now()-t;return console.log(` ${(0,U.green)("\u2713")} Compiled ${fe(e)} in ${n.toFixed(2)}ms (total: ${r.toFixed(2)}ms)`),n};var Kt="**/*.{jsx,tsx,ts,js,mjs,cjs}",Wt="**/node_modules/**/*",bt=!1,ye=()=>bt,qt=process.env.NODE_ENV==="production",Et=(0,yt.createUnplugin)((e={},t)=>{var a,i;if(qt)return{name:"anya"};ft();let r=(0,xt.createFilter)(((a=e.filter)==null?void 0:a.include)||Kt,((i=e.filter)==null?void 0:i.exclude)||[Wt,"**/_app.{jsx,tsx,js,ts}","**/_document.{jsx,tsx,js,ts}"]),n=null,o=0;return bt=e.dev||!1,e.framework??(e.framework=t.framework),{enforce:"pre",name:"anya",watchChange(l){o=0,ae(l)},transformInclude(l){let c=r(l);return c&&e.dev&&(n=dt(l)),c},async transform(l,c){var p;try{let f=!0;if((c.endsWith(".ts")||c.endsWith(".mjs")||c.endsWith(".cjs"))&&(f=!1),c.endsWith(".js")&&!/<(?<temp1>"[^"]*"|'[^']*'|[^'">])*>/.test(l)&&(f=!1),e.extra===!1&&!f)return null;let m=["jsx",["importAttributes",{deprecatedAssertSyntax:!1}],"throwExpressions","decorators","destructuringPrivate","explicitResourceManagement"];if(/\.[mc]?tsx?$/i.test(c)&&m.push("typescript"),(p=e.plugins)!=null&&p.length)for(let M=0,T=e.plugins.length;M<T;M++){let H=e.plugins[M];typeof H=="string"&&m.push(H)}let y=await(0,St.transformAsync)(l,{plugins:[[pt,{...e,source:l,isJSX:f,filename:c,extra:!0}]],parserOpts:{plugins:m},filename:c,ast:!1,sourceFileName:c,sourceMaps:!0,configFile:!1,babelrc:!1});if(e.dev&&(o+=gt(c,n,o)),y)return{code:y.code||"",map:y.map}}catch{}return null},vite:{handleHotUpdate(l){o=0,ae(l.file)},configResolved(l){mt(l.plugins,"anya",["astro:jsx","vite:react-babel","vite:react-jsx","vite:preact-jsx","vite:react-swc"])}}}});var de=(e={})=>(t={})=>Array.isArray(t)?(t.push(de(e)),t):{...t,webpack:(r,n)=>n.isServer||!n.dev?r:(r.plugins.unshift(Et.webpack({framework:"next",...e})),typeof t.webpack=="function"?t.webpack(r,n):r)},Gt=de;0&&(module.exports={next});
